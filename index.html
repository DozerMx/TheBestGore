<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>TheForoBestGore - Inicio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Contenedor principal -->
    <div class="container">
        <!-- Sección de bienvenida -->
        <div class="welcome-section">
            <h1>Bienvenido a TheForoBestGore</h1>
            <p>La comunidad donde puedes compartir y ver contenido exclusivo. Regístrate o inicia sesión para comenzar.</p>
            <div class="button-group">
                <button onclick="toggleForms('register')">Registrarse</button>
                <button onclick="toggleForms('login')">Iniciar Sesión</button>
            </div>
        </div>

        <!-- Formulario de Registro -->
        <div id="registerForm" class="form-section" style="display: none;">
            <h2>Registrarse</h2>
            <form id="register-form">
                <label for="email">Correo Electrónico:</label>
                <input type="email" id="email" placeholder="Ingresa tu correo" required>

                <label for="nick">Nick (Nombre de Usuario):</label>
                <input type="text" id="nick" placeholder="Ingresa un nombre de usuario" required>

                <label for="password">Contraseña:</label>
                <input type="password" id="password" placeholder="Ingresa una contraseña segura" required>

                <button type="submit">Registrarse</button>
                <p>¿Ya tienes una cuenta? <span onclick="toggleForms('login')" class="link">Iniciar Sesión</span></p>
            </form>
        </div>

        <!-- Formulario de Inicio de Sesión -->
        <div id="loginForm" class="form-section" style="display: none;">
            <h2>Iniciar Sesión</h2>
            <form id="login-form">
                <label for="login-email">Correo Electrónico:</label>
                <input type="email" id="login-email" placeholder="Ingresa tu correo" required>

                <label for="login-password">Contraseña:</label>
                <input type="password" id="login-password" placeholder="Ingresa tu contraseña" required>

                <button type="submit">Iniciar Sesión</button>
                <p>¿No tienes una cuenta? <span onclick="toggleForms('register')" class="link">Registrarse</span></p>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js"></script>
    <script src="firebase-config.js"></script>
    <script src="auth.js"></script>
    <script>
        // Función para mostrar u ocultar formularios
        function toggleForms(formType) {
            const registerForm = document.getElementById('registerForm');
            const loginForm = document.getElementById('loginForm');

            if (formType === 'register') {
                registerForm.style.display = 'block';
                loginForm.style.display = 'none';
            } else {
                registerForm.style.display = 'none';
                loginForm.style.display = 'block';
            }
        }

        // Manejador del formulario de registro
        document.getElementById('register-form').addEventListener('submit', async (event) => {
            event.preventDefault(); // Evita el comportamiento por defecto del formulario

            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const nick = document.getElementById('nick').value;

            await registerUser(email, password, nick); // Llama a la función de registro

            // Redirigir a home.html
            window.location.href = 'home.html'; 
        });

        // Manejador del formulario de inicio de sesión
        document.getElementById('login-form').addEventListener('submit', async (event) => {
            event.preventDefault(); // Evita el comportamiento por defecto del formulario

            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;

            await loginUser(email, password); // Llama a la función de inicio de sesión

            // Redirigir a home.html
            window.location.href = 'home.html'; 
        });
    </script>
</body>
</html>
